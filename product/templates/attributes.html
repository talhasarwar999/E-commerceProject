<html>

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Attributes</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://kit-pro.fontawesome.com/releases/v5.15.4/css/pro.min.css" rel="stylesheet" />

  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

  <!--************ Font Awosome Link End ****************-->
  <link rel="stylesheet" href="contact.css" />


  <style>
    .box {
      color: #fff;
      padding: 20px;
      display: none;
      margin-top: 20px;
    }

    input,
    .modal,
    select {
      color: black;
      width: 100%;
      padding: 10px 10px;
      font-size: 16px;
      border: 1px solid lightgrey;
      border-radius: 0px !important;
    }

    .table-striped>tbody>tr:nth-child(2n + 1)>td,
    .table-striped>tbody>tr:nth-child(2n + 1)>th {
      background-color: #000000;
      color: #fff;
    }

    .row .alert {
      margin-top: 25px;
    }

    th,
    td {
      border-top: none !important;
    }

    h3 {
      border: 1px solid lightgrey;
      padding: 5px;
      font-weight: bolder;
      letter-spacing: .1em;
      color: #000;
      font-size: 20px;
    }

    .modal-content {
      border-radius: 0;
    }

    .modal-header,
    .modal-footer {
      border: 1px solid lightgrey;
      color: #000;
      border: 0;
    }

    .modal-body {
      border: 1px solid lightgrey;
      color: #000;
    }

    .close,
    .close:hover {
      color: white;
    }

    .btn {
      font-weight: bolder;
      letter-spacing: .2em;
    }

    #attr_name_btn {
      margin-top: 8px;
      font-size: 16px;
      border-radius: 0px;
      background: black;
      border-color: black;
    }

    #attr_name_btn:hover {
      background: rgb(255, 255, 255);
      color: black;
    }

    button.btn.btn-success.form-control,
    button.btn.btn-danger.form-control {
      font-size: 14px;
      width: 100px;
      letter-spacing: 0.7px;
    }

    .multipleSelect2 {
      width: 600px;
    }
  </style>

</head>

<body class="" style="">





  <!-----******************----- Home Page Header END -----******************----->

  <!-----******************----- Contact Us Page Section START -----******************----->



  <!-----******************----- Contact Us Form Section START -----******************----->
  <div class="container">
    <div class="row">
      <div class="col-2 hidden-lg"></div>
      <div class="col-lg-8 msg-box">
        <h3>Send A Message</h3>
        <p>Select a category for your inquiry.</p>


        <!-- Nav Pills -->
        <ul class="nav-tabs nav nav-justified contact-form-tabs">
          <li class="nav-item">
            <a href="#press" class="nav-link active" data-bs-toggle="tab">Form1</a>
          </li>
          <li class="nav-item">
            <a href="#acadmic_r" class="nav-link" data-bs-toggle="tab">Form2</a>
          </li>
          <li class="nav-item" id="form3">
            <a href="#career" class="nav-link" data-bs-toggle="tab">Form3</a>
          </li>
        </ul>

        <!-----******************----- Press Form Section START -----******************----->
        <div class="tab-content container">
          <div class="tab-pane active" id="press">


            <form action="" class="press-form" id="press-form" method="POST" enctype="multipart/form-data">
              <!-- {% csrf_token %} -->
              <input type="hidden" name="form_type" value="press">



              <!-----******************----- Conatct Info Section START -----******************----->
              <div class="contact-info">
                <h5>Your Contact Information</h5>
                <p>Please let us know who you are, and how we can get back in touch.</p>
                <input type="text" placeholder="First Name" name="first_name" required />
                <input type="text" placeholder="Last Name" name="last_name" required />
                <input type="text" placeholder="Publication or company" name="public_company" />
                <input type="email" placeholder="Email address" name="email" id="p_email" required />
                <div id="email-error"></div>
              </div>
              <!-----******************----- Conatct Info Section END -----******************----->


              <!-----******************----- Detail Message Section START -----******************----->
              <div class="field-btns">
                <!-- <input type="submit" value="submit"> -->
                <button class="submit submit_form" id="p_submit">Submit</button>
              </div>
              <!-----******************----- Detail Message Section END -----******************----->

            </form>
          </div>
          <!-----******************----- Press Form Section END -----******************----->

          <!-----******************----- Acadmic Section START -----******************----->
          <div class="tab-pane" id="acadmic_r">
            <select>
              <option>Choose Category</option>
              <option value="flowers">Flowers</option>
              <option value="dates">Dates</option>
              <option value="chocolates">Chocolates</option>
            </select>



            <div class="container box flowers">
              <div class="row">
                <div class="col-md-4">
                  <h3>Size</h3>

                </div>
                <div class="col-md-8">
                  <form id="addUser" class='add-sub-attribute' action="" class="form-inline">
                    
                    <div class="form-group">
                      <div class="row">
                          <div class="col-md-8">
                            <input class="form-control" type="text" name="name" placeholder="Name" required>
                          </div>
                          <div class="col-md-4">
                          <button class="btn btn-primary form-control" id="attr_name_btn" type="submit">Add</button>
                        </div>
                    </div>

                    </div>
                  </form>                  
                  <h3>Sub Attribute</h3>
                  <table id="userTable" class="table ">
                    <tr>
                      <th colspan="3">Name</th>
                    </tr>
                  </table>
                </div>
              </div>
            </div>

            <div class="container box flowers">
              <div class="row">
                <div class="col-md-4">
                  <h3>Color</h3>

                </div>
                <div class="col-md-8">
                  <form id="addUser" class='add-sub-attribute' action="" class="form-inline">
                    
                    <div class="form-group">
                      <div class="row">
                          <div class="col-md-8">
                            <input class="form-control" type="text" name="name" placeholder="Name" required>
                          </div>
                          <div class="col-md-4">
                          <button class="btn btn-primary form-control" id="attr_name_btn" type="submit">Add</button>
                        </div>
                    </div>

                    </div>
                  </form>                  
                  <h3>Sub Attribute</h3>
                  <table id="userTable" class="table ">
                    <tr>
                      <th colspan="3">Name</th>
                    </tr>
                  </table>
                </div>
              </div>
            </div>            

            <!-- Modal -->
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Update Attribute</h4>
                  </div>
                  <div class="modal-body"></div>
                  <div class="modal-footer"></div>
                </div>
              </div>
            </div>
            <!-- Modal -->
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" style="display: none;"
              aria-labelledby="myModalLabel">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Update Attr</h4>
                  </div>
                  <div class="modal-body"></div>
                  <div class="modal-footer"></div>
                </div>
              </div>
            </div>

          </div>
          <!-----******************----- Acadmic Section END -----******************----->

          <!-----******************----- Career Section START -----******************----->
          <div class="tab-pane" id="career">

            <div class="section2">

            </div>
            <form action="" class="" method="POST" enctype="multipart/form-data">

              <input type="file" name="message_file" id="p_file">

              <h4>select Attribute</h4>
              <select class="multipleSelect2" multiple="true">
              </select>
                <button class="btn btn-primary form-control" id="attr_name_btn" type="submit">SUBMIT</button>
            </form>

          </div>
          <!-----******************----- Career Section END -----******************----->


        </div>

      </div>
      <div class="col-2 hidden-lg"></div>
    </div>
  </div>
  <!-----******************----- Contact Us Form Section END -----******************----->


  <!-----******************----- Contact Us Page Section END -----******************----->
  <!-- Jquery -->
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>

  <!-- Option 2: Separate Popper and Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <!-- ///////// font awesome ///////// -->
  <script src="https://kit.fontawesome.com/23b1f56e60.js"></script>
  <script>
    $(document).ready(function () {
      $("select").change(function () {
        $(this).find("option:selected").each(function () {
          var optionValue = $(this).attr("value");
          if (optionValue) {
            $(".box").not("." + optionValue).hide();
            $("." + optionValue).show();
          } else {
            $(".box").hide();
          }
        });
      }).change();
    });
  </script>
  <script>
    var users = [{
        id: 1,
        name: "Bob"
      },
      {
        id: 2,
        name: "Harry"
      }
    ];

    $.each(users, function (i, user) {
      appendToUsrTable(user);
    });

    $("form").submit(function (e) {
      e.preventDefault();
    });

    $("form.add-sub-attribute").submit(function () {
      var user = {};
      var nameInput = $('input[name="name"]').val().trim();
      if (nameInput) {
        $(this).serializeArray().map(function (data) {
          user[data.name] = data.value;
        });
        var lastUser = users[Object.keys(users).sort().pop()];
        user.id = lastUser.id + 1;

        addUser(user);
      } else {
        alert("All fields must have a valid value.");
      }
    });

    function addUser(user) {
      users.push(user);
      appendToUsrTable(user);
    }

    function editUser(id) {
      users.forEach(function (user, i) {
        if (user.id == id) {
          $(".modal-body").empty().append(`
                <form id="updateUser" action="">
                    <label for="name">Name</label>
                    <input class="form-control" type="text" name="name" value="${user.name}"/>
            `);
          $(".modal-footer").empty().append(`
                    <button type="button" type="submit" class="btn btn-primary" onClick="updateUser(${id})">Save changes</button>
                    <button type="button" class="btn btn-default" data-bs-dismiss="modal">Close</button>
                </form>
            `);
        }
      });
    }

    function deleteUser(id) {
      var action = confirm("Are you sure you want to delete this user?");
      var msg = "User deleted successfully!";
      users.forEach(function (user, i) {
        if (user.id == id && action != false) {
          users.splice(i, 1);
          $("#userTable #user-" + user.id).remove();
          flashMessage(msg);
        }
      });
    }

    function updateUser(id) {
      var msg = "User updated successfully!";
      var user = {};
      user.id = id;
      users.forEach(function (user, i) {
        if (user.id == id) {
          $("#updateUser").children("input").each(function () {
            var value = $(this).val();
            var attr = $(this).attr("name");
            if (attr == "name") {
              user.name = value;
            }
          });
          users.splice(i, 1);
          users.splice(user.id - 1, 0, user);
          $("#userTable #user-" + user.id).children(".userData").each(function () {
            var attr = $(this).attr("name");
            if (attr == "name") {
              $(this).text(user.name);
            }
          });
          $(".modal").modal("toggle");
          flashMessage(msg);
        }
      });
    }

    function flashMessage(msg) {
      $(".flashMsg").remove();
      $(".row").prepend(`
        <div class="col-sm-12"><div class="flashMsg alert alert-success alert-dismissible fade in" role="alert"> <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button> <strong>${msg}</strong></div></div>
    `);
    }

    function appendToUsrTable(user) {
      $("#userTable > tbody:last-child").append(`
        <tr id="user-${user.id}">
            <td class="userData" name="name">${user.name}</td>
         
            '<td align="center">
                <button class="btn btn-success form-control" onClick="editUser(${user.id})" data-bs-toggle="modal" data-bs-target="#myModal")">EDIT</button>
            </td>
            <td align="center">
                <button class="btn btn-danger form-control" onClick="deleteUser(${user.id})">DELETE</button>
            </td>
        </tr>
    `);
    }
  </script>
  <script>
    $(document).ready(function () {
      //Select2
      $(".multipleSelect2").select2({

      });
    })
  </script>
  <script>
    $('#form3').click(function () {
      // $('.section2').html( $('.userData').text() );
      var temp = [];
      var items = $('.userData');

      $.each(items, function (i, item) {
        console.log(item.innerHTML);
        temp.push($('<option>', {
          value: item.innerHTML,
          text: item.innerHTML
        }));
      });
      $('.multipleSelect2').html(temp);
    })
  </script>

  <script>
        const currentLocation = location.href;
    const menuItem = document.querySelectorAll('.nav-link');
    const menuLength = menuItem.length
    for (let i = 0; i < menuLength; i++) {
        if (menuItem[i].href === currentLocation) {
            menuItem[i].className = ("nav-link active")
        }
    }
  </script>

</body>

</html>